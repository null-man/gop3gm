<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

    <title>Marketing Landing Page</title>
    <style>
        .cart-dropdown {
            display: none;
        }
        .cart-icon:hover .cart-dropdown {
            display: block;
        }
        .contact-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .icon-button {
            background-color: #1DA1F2;
            border-radius: 50%;
            padding: 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }
        .icon-button:hover {
            transform: scale(1.1);
        }
        .icon {
            width: 30px;
            height: 30px;
            fill: white; /* 图标颜色 */
        }
        .active {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>

<body class="bg-white font-sans">

    <header class="bg-white relative z-20 px-6">
      <div class="container mx-auto flex justify-between items-center relative h-24">

        <a href="index.html" class="w-64 h-full inline-block py-4 flex items-center font-black text-lg">
          GOP3GM
          <!-- <img src="http://placehold.it/280x160" class="h-full w-auto" /> -->
        </a>

        <ul class="hidden md:flex flex-1 h-full justify-end items-center text-sm">
          <li><a href="#" class="hover:opacity-75" data-translate="home">Home</a></li>
          <li class="ml-6" data-translate="order"><a href="#">Check Order</a></li>
         <!--  <li class="ml-6"><a href="#">Products</a></li>
          <li class="ml-6"><a href="#">Services</a></li> -->
          <li class="ml-6">
            <div class="relative cart-icon">
                  <button onclick="toggleCart()" class="flex items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l1 9h11l1-9h2M6 12h12m-12 0l-1 9h12l-1-9M6 12l1-9h11l1 9M3 12v2a2 2 0 002 2h12a2 2 0 002-2v-2" />
                      </svg>
                      <span id="cartCount" class="ml-1">(0)</span>
                  </button>
                  <div id="cartDropdown" class="cart-dropdown absolute right-0 mt-2 w-64 bg-gray-800 text-white rounded-lg shadow-lg p-4">
                      <h2 class="text-lg font-bold">购物车</h2>
                      <div id="cartItems" class="mt-2"></div>
                      <div class="flex justify-between items-center border-t mt-2 pt-2">
                          <span>总计:</span>
                          <span id="totalPrice">CNY$ 0.00</span>
                      </div>
                      <div class="flex justify-between mt-2">
                          <button onclick="clearCart()" class="bg-gray-600 hover:bg-gray-500 text-white px-3 py-1 rounded">清空购物车</button>
                          <button onclick="checkout()" class="bg-yellow-500 hover:bg-yellow-400 text-white px-3 py-1 rounded">结账</button>
                      </div>
                  </div>
              </div>
          </li>
          <li class="ml-6">
            <select id="language-selector" >
                <option value="en">English</option>
                <option value="cn">中文</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
            </select>
          </li>
        </ul>
      </div>
    </header>
      <body class="bg-gray-100 py-10">

            <div id="app" class="max-w-4xl mx-auto p-4 bg-white rounded shadow-lg">
                <div class="flex">
                    <!-- 左侧选择区 -->
                    <div class="w-2/3 p-4">
                        <h1 class="text-2xl font-bold mb-6">Console</h1>
                        <div class="mb-4">
                            <button class="bg-blue-500 text-white px-4 py-2 rounded">Mainsver</button>
                        </div>
                        <div class="grid grid-cols-3 gap-4 mb-4">
                            <button
                                v-for="option in options"
                                :key="option"
                                :class="['border p-2 rounded', amount === option ? 'active' : 'hover:bg-gray-200']"
                                @click="handleSelect(option)"
                            >
                                {{ option }} Billion
                            </button>
                        </div>
                        <div class="flex items-center mb-4">
                            <span class="mr-4">数量:</span>
                            <button @click="decreaseAmount" class="bg-gray-300 px-2 rounded">-</button>
                            <input type="number" v-model="quantity" class="mx-2 w-16 text-center border rounded" min="1" />
                            <button @click="increaseAmount" class="bg-gray-300 px-2 rounded">+</button>
                        </div>
                        <div class="flex items-center mb-4">
                            <span class="mr-4">Amount:</span>
                            <span class="text-xl font-bold text-orange-500">{{ amount * quantity }} Billion</span>
                        </div>
                        <div class="flex items-center mb-4">
                            <span class="mr-4">Total:</span>
                            <span class="text-xl font-bold text-orange-500">¥{{ total.toFixed(2) }}</span>
                        </div>
                    </div>
                    
                    <!-- 右侧订单信息区 -->
                    <div class="w-1/3 p-4 border-l border-gray-300">
                        <h2 class="text-lg font-bold mb-4">订单信息</h2>
                        <div class="mb-2">
                            <strong>Console:</strong> Mainsver
                        </div>
                        <div class="mb-2">
                            <strong>Delivery Information:</strong> Face To Face
                        </div>
                        <div class="mb-4">
                            <strong>Total:</strong> ¥{{ total.toFixed(2) }}
                        </div>
                        <button class="bg-green-500 text-white px-4 py-2 rounded mb-2" @click="handlePurchase">
                            立即购买
                        </button>
                        <button class="bg-yellow-500 text-white px-4 py-2 rounded" @click="addToCartList">
                            加入购物车
                        </button>
                    </div>
                </div>
            </div>
             <div class="contact-icon">
        <div class="icon-button" onclick="openLiveChat()">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 0C5.373 0 0 4.373 0 12c0 2.36.823 4.53 2.19 6.25L0 24l5.75-2.189C7.47 22.177 9.64 23 12 23c6.627 0 12-4.373 12-12S18.627 0 12 0zm0 20.25c-1.48 0-2.83-.49-3.93-1.32l-1.64.6.6-1.64C6.49 15.83 5.25 14.04 5.25 12c0-4.142 3.358-7.5 7.5-7.5s7.5 3.358 7.5 7.5-3.358 7.5-7.5 7.5z"/>
            </svg>
        </div>
    </div>

    <script>
        function openLiveChat() {
            // 替换为您的 LiveChat 代码或链接
            window.open('https://direct.lc.chat/18298704', '_blank');
        }
    </script>
</body>

<script>
    window.onload = function() {
        // 从 localStorage 获取保存的语言
        const savedLanguage = localStorage.getItem('language') || 'en'; // 默认值为 'en'

        // 获取 select 元素
        const languageSelect = document.getElementById('language-selector');

        // 设置 select 的值为保存的语言
        languageSelect.value = savedLanguage;
    };

    new Vue({
        el: '#app',
        data() {
            return {
                amount: 1,
                quantity: 1,
                total: 0,
                pricePerBillion: 36.304, // 每十亿的价格
                options: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100],
            };
        },
        methods: {
            handleSelect(value) {
                this.amount = value;
                this.updateTotal();
            },
            increaseAmount() {
                this.quantity++;
                this.updateTotal();
            },
            decreaseAmount() {
                if (this.quantity > 1) {
                    this.quantity--;
                    this.updateTotal();
                }
            },
            updateTotal() {
                this.total = (this.amount * this.quantity * this.pricePerBillion);
            },
            handlePurchase() {
                if (this.amount <= 0) {
                    console.log("必须选中一个筹码数量")
                    return;
                }
                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                cart.push({ product:'gop3筹码', price: parseFloat(this.total.toFixed(2)) });
                // console.log(cart)
                localStorage.setItem('cart', JSON.stringify(cart));
                
                localStorage.setItem('selectedProduct', JSON.stringify({ product:'gop3筹码', price: parseFloat(this.total.toFixed(2)) })); 
                window.location.href = 'pay.html'; // 跳转到结账页面

                // alert(`购买 ${this.amount * this.quantity} Billion，总计 ¥${this.total.toFixed(2)}`);
            },
            addToCartList() {
                if (this.amount <= 0) {
                    console.log("必须选中一个筹码数量")
                    return;
                }
                addToCart('gop3筹码', parseFloat(this.total.toFixed(2)));
            }
        },
    });
</script>
<script type="text/javascript">
      let cart = JSON.parse(localStorage.getItem('cart')) || [];

      function updateCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
            const cartItemsElement = document.getElementById('cartItems');
            cartItemsElement.innerHTML = '';
            let total = 0;

            cart.forEach((item, index) => {
                const itemElement = document.createElement('div');
                console.log(item)
                itemElement.innerHTML = `
                    ${item.product} - HK$ ${item.price.toFixed(2)} 
                    <button onclick="removeFromCart(${index})" class="text-red-500 hover:underline">删除</button>
                `;
                cartItemsElement.appendChild(itemElement);
                total += item.price;
            });

            document.getElementById('cartCount').textContent = `(${cart.length})`;
            document.getElementById('totalPrice').textContent = `HK$ ${total.toFixed(2)}`;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function clearCart() {
            cart = [];
            updateCart();
        }

        function checkout() {
            window.location.href="pay.html"
        }

        function toggleCart() {
            const dropdown = document.getElementById('cartDropdown');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        function addToCart(product, price) {
            cart.push({ product, price });
            updateCart();
        }

        updateCart();
    </script>

    <script type="text/javascript">
      const savedLanguage = localStorage.getItem('language') || 'en';

      const i18n = {
          language: savedLanguage,
          languages: {
              en: 'English',
              cn: '中文',
              es: 'Español',
              fr: 'Français'
          },
          translations: {
              en: {
                  home: 'Home',
                  about: 'About Us',
                  products: 'Products',
                  services: 'Services',
                  cart: 'Cart',
                  detail:'Detail',
                  buy:'Buy Now',
                  order:'Check Order'
              },
              cn: {
                  home: '首页',
                  about: '关于我们',
                  products: '产品',
                  services: '服务',
                  cart: '购物车',
                  detail:'详细内容',
                  buy:'立即购买',
                  order:'检查订单'
              },
              es: {
                  home: 'Inicio',
                  about: 'Sobre Nosotros',
                  products: 'Productos',
                  services: 'Servicios',
                  cart: 'Carrito'
              },
              fr: {
                  home: 'Accueil',
                  about: 'À Propos',
                  products: 'Produits',
                  services: 'Services',
                  cart: 'Panier'
              }
          },
          translate(key) {
            // console.log(this.language)
            // console.log(key)
              return this.translations[this.language][key];
          },
          changeLanguage(lang) {
              this.language = lang;
              this.updatePage();
          },
          updatePage() {
              document.querySelectorAll('[data-translate]').forEach((element) => {
                  const key = element.getAttribute('data-translate');
                  element.innerText = this.translate(key);
              });
          }
      };


      document.addEventListener('DOMContentLoaded', () => {
            i18n.updatePage();

            document.getElementById('language-selector').addEventListener('change', (event) => {

                i18n.changeLanguage(event.target.value);
                localStorage.setItem('language', event.target.value);

            });
        });


    </script>

</html>